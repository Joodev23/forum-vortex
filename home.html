<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beranda - Vortexx Community</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/home.css">
</head>
<body class="dark-theme">
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <button class="nav-btn menu-btn" id="menuBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <line x1="3" y1="12" x2="21" y2="12"/>
                        <line x1="3" y1="6" x2="21" y2="6"/>
                        <line x1="3" y1="18" x2="21" y2="18"/>
                    </svg>
                </button>
                <div class="logo">
                    <svg width="32" height="32" viewBox="0 0 40 40">
                        <path d="M20 0C8.96 0 0 8.96 0 20s8.96 20 20 20 20-8.96 20-20S31.04 0 20 0zm0 36c-8.84 0-16-7.16-16-16S11.16 4 20 4s16 7.16 16 16-7.16 16-16 16z"/>
                        <path d="M20 8c-6.63 0-12 5.37-12 12s5.37 12 12 12 12-5.37 12-12-5.37-12-12-12zm0 22c-5.52 0-10-4.48-10-10s4.48-10 10-10 10 4.48 10 10-4.48 10-10 10z"/>
                        <path d="M20 12c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/>
                    </svg>
                    <span class="logo-text">Vortexx</span>
                </div>
            </div>
            
            <div class="nav-center">
                <div class="search-bar">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <circle cx="11" cy="11" r="8"/>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"/>
                    </svg>
                    <input type="text" placeholder="Cari di Vortexx..." class="search-input">
                </div>
            </div>
            
            <div class="nav-right">
                <button class="nav-btn" id="notificationBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                    </svg>
                    <span class="notification-badge">3</span>
                </button>
                <button class="nav-btn" id="messageBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                    </svg>
                </button>
                <div class="user-avatar" id="profileDropdown">
                    <img src="" alt="Profile" class="avatar-img" id="currentUserAvatar">
                    <div class="user-status"></div>
                </div>
            </div>
        </div>
    </nav>

    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="user-info">
                <img src="" alt="Profile" class="sidebar-avatar" id="sidebarAvatar">
                <div class="user-details">
                    <h3 class="username" id="sidebarUsername">
                        <span id="sidebarName">Loading...</span>
                        <span class="verified-badge" id="verifiedBadge"></span>
                    </h3>
                    <p class="user-handle" id="sidebarHandle">@username</p>
                </div>
            </div>
            <button class="sidebar-close" id="sidebarClose">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
        </div>
        
        <div class="sidebar-stats">
            <div class="stat-item">
                <span class="stat-number" id="postCount">0</span>
                <span class="stat-label">Postingan</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="followerCount">0</span>
                <span class="stat-label">Pengikut</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="followingCount">0</span>
                <span class="stat-label">Mengikuti</span>
            </div>
        </div>
        
        <nav class="sidebar-menu">
            <a href="home.html" class="menu-item active">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                    <polyline points="9 22 9 12 15 12 15 22"/>
                </svg>
                <span>Beranda</span>
            </a>
            <a href="profile.html" class="menu-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                    <circle cx="12" cy="7" r="4"/>
                </svg>
                <span>Profil</span>
            </a>
            <a href="stories.html" class="menu-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                    <line x1="16" y1="13" x2="8" y2="13"/>
                    <line x1="16" y1="17" x2="8" y2="17"/>
                    <polyline points="10 9 9 9 8 9"/>
                </svg>
                <span>Story</span>
            </a>
            <a href="#" class="menu-item" id="createStoryBtn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="16"/>
                    <line x1="8" y1="12" x2="16" y2="12"/>
                </svg>
                <span>Buat Story</span>
            </a>
            <a href="#" class="menu-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="18" cy="5" r="3"/>
                    <circle cx="6" cy="12" r="3"/>
                    <circle cx="18" cy="19" r="3"/>
                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                </svg>
                <span>Jelajahi</span>
            </a>
            <a href="#" class="menu-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
                </svg>
                <span>Disimpan</span>
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <a href="#" class="menu-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                </svg>
                <span>Pengaturan</span>
            </a>
            <button class="menu-item logout-btn" id="logoutBtn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                    <polyline points="16 17 21 12 16 7"/>
                    <line x1="21" y1="12" x2="9" y2="12"/>
                </svg>
                <span>Keluar</span>
            </button>
        </div>
    </aside>

    <main class="main-content">
        <div class="welcome-banner slide-up">
            <h2 id="welcomeMessage">Welcome back, User!</h2>
            <p>Bagikan cerita, ide, dan pengalamanmu dengan komunitas</p>
        </div>

        <section class="stories-section">
            <div class="section-header">
                <h3>Story Terbaru</h3>
                <a href="stories.html" class="see-all">Lihat Semua</a>
            </div>
            <div class="stories-container" id="storiesContainer">
                <div class="story-loader">
                    <div class="spinner"></div>
                </div>
            </div>
        </section>

        <div class="create-post-card slide-up">
            <div class="post-input-container">
                <img src="" alt="Profile" class="post-avatar" id="postAvatar">
                <div class="post-input-wrapper">
                    <input type="text" placeholder="Apa yang ingin kamu bagikan?" class="post-input" id="postInput">
                    <div class="post-actions">
                        <button class="post-action-btn" data-type="image">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <polyline points="21 15 16 10 5 21"/>
                            </svg>
                            <span>Foto</span>
                        </button>
                        <button class="post-action-btn" data-type="video">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <polygon points="23 7 16 12 23 17 23 7"/>
                                <rect x="1" y="5" width="15" height="14" rx="2" ry="2"/>
                            </svg>
                            <span>Video</span>
                        </button>
                        <button class="post-action-btn" data-type="text">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M12 20h9"/>
                                <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
                            </svg>
                            <span>Teks</span>
                        </button>
                    </div>
                </div>
            </div>
            <button class="btn-primary post-submit-btn" id="submitPostBtn">Posting</button>
        </div>

        <section class="posts-feed" id="postsFeed">
            <div class="feed-header">
                <h3>Postingan Terbaru</h3>
                <div class="feed-sort">
                    <button class="sort-btn active" data-sort="popular">Populer</button>
                    <button class="sort-btn" data-sort="latest">Terbaru</button>
                </div>
            </div>
            
            <div class="posts-container" id="postsContainer">
                <div class="post-loader">
                    <div class="spinner"></div>
                    <p>Memuat postingan...</p>
                </div>
            </div>
            
            <div class="load-more-container">
                <button class="btn-secondary" id="loadMoreBtn">Muat Lebih Banyak</button>
            </div>
        </section>
    </main>

    <div class="modal-overlay" id="createPostModal">
        <div class="modal-content create-post-modal">
            <button class="modal-close" id="closePostModal">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6L6 18M6 6l12 12"/>
                </svg>
            </button>
            <h2>Buat Postingan</h2>
            <form id="postForm">
                <div class="form-group">
                    <label for="postCaption">Caption</label>
                    <textarea id="postCaption" placeholder="Tulis sesuatu..." rows="4"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="postType">Jenis Postingan</label>
                    <select id="postType" class="post-type-select">
                        <option value="text">Teks Saja</option>
                        <option value="image">Gambar</option>
                        <option value="video">Video</option>
                    </select>
                </div>
                
                <div class="form-group" id="mediaUploadGroup">
                    <label for="postMedia">Unggah Media</label>
                    <div class="media-upload-area" id="mediaUploadArea">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="17 8 12 3 7 8"/>
                            <line x1="12" y1="3" x2="12" y2="15"/>
                        </svg>
                        <p>Seret & lepas file atau klik untuk memilih</p>
                        <p class="file-info">Maksimal 10MB â€¢ JPEG, PNG, GIF, MP4</p>
                        <input type="file" id="postMedia" class="file-input" accept="image/*,video/*">
                    </div>
                    <div class="media-preview" id="mediaPreview"></div>
                </div>
                
                <div class="post-options">
                    <label class="option-checkbox">
                        <input type="checkbox" id="allowComments">
                        <span>Izinkan komentar</span>
                    </label>
                    <label class="option-checkbox">
                        <input type="checkbox" id="allowLikes">
                        <span>Izinkan like</span>
                    </label>
                </div>
                
                <button type="submit" class="btn-primary btn-post" id="createPostBtn">
                    <span>Publikasikan</span>
                </button>
            </form>
        </div>
    </div>
    <div class="modal-overlay" id="createStoryModal">
        <div class="modal-content create-story-modal">
            <button class="modal-close" id="closeStoryModal">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6L6 18M6 6l12 12"/>
                </svg>
            </button>
            <h2>Buat Story</h2>
            <form id="storyForm">
                <div class="form-group">
                    <label for="storyMedia">Pilih Foto/Video</label>
                    <div class="story-upload-area" id="storyUploadArea">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="17 8 12 3 7 8"/>
                            <line x1="12" y1="3" x2="12" y2="15"/>
                        </svg>
                        <p>Unggah foto atau video untuk story</p>
                        <p class="file-info">Story akan hilang setelah 24 jam</p>
                        <input type="file" id="storyMedia" class="file-input" accept="image/*,video/*">
                    </div>
                    <div class="story-preview" id="storyPreview"></div>
                </div>
                
                <div class="form-group">
                    <label for="storyCaption">Caption (opsional)</label>
                    <input type="text" id="storyCaption" placeholder="Tambahkan caption...">
                </div>
                
                <button type="submit" class="btn-primary btn-story" id="createStoryBtn">
                    <span>Bagikan ke Story</span>
                </button>
            </form>
        </div>
    </div>

    <button class="fab" id="fabBtn">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"/>
            <line x1="5" y1="12" x2="19" y2="12"/>
        </svg>
    </button>

    <div class="dropdown-menu" id="profileDropdownMenu">
        <a href="profile.html" class="dropdown-item">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
            </svg>
            <span>Profil Saya</span>
        </a>
        <a href="#" class="dropdown-item">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <circle cx="12" cy="12" r="3"/>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
            </svg>
            <span>Pengaturan</span>
        </a>
        <div class="dropdown-divider"></div>
        <button class="dropdown-item logout" id="dropdownLogoutBtn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                <polyline points="16 17 21 12 16 7"/>
                <line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
            <span>Keluar</span>
        </button>
    </div>

    <script src="js/icons.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/stories.js" type="module"></script>
    <script src="js/posts.js" type="module"></script>
    <script src="js/home.js" type="module"></script>
</body>
</html>